package com.bacunguyenandroid.cdcswitchclient.Tool;import android.content.Context;import android.content.pm.ApplicationInfo;import android.content.pm.PackageInfo;import android.content.pm.PackageManager;import android.util.Log;import java.util.ArrayList;import java.util.List;public class LoadGappsCurrent {    public static List<PackageInfo> installedApps(Context context)    {        List<PackageInfo> packList =  context.getPackageManager().getInstalledPackages(PackageManager.GET_GIDS);        List<PackageInfo> packageInfos = new ArrayList<>();        for (int i=0; i < packList.size(); i++)        {            PackageInfo apackInfo = packList.get(i);            String appNamePackage = apackInfo.applicationInfo.packageName;            if((apackInfo.applicationInfo.flags & ApplicationInfo.FLAG_SYSTEM) == 0 )            { packageInfos.add(apackInfo);              Log.d("APPNAME",appNamePackage);            }        }        return packageInfos;    }}